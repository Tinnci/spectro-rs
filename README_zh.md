# ğŸŒˆ spectro-rs (ä¸­æ–‡ç‰ˆ)

[![Rust](https://img.shields.io/badge/language-Rust-orange.svg)](https://www.rust-lang.org)
[![License: GPL v3](https://img.shields.io/badge/License-GPLv3-blue.svg)](https://www.gnu.org/licenses/gpl-3.0)
[![Crates.io](https://img.shields.io/crates/v/spectro-rs.svg)](https://crates.io/crates/spectro-rs)
[![Docs.rs](https://docs.rs/spectro-rs/badge.svg)](https://docs.rs/spectro-rs)

[English Version](./README.md)

**spectro-rs** æ˜¯ä¸€ä¸ªåŸºäº Rust å¼€å‘çš„é«˜æ€§èƒ½ X-Rite ColorMunki (Original/Design) å…‰è°±ä»ªé©±åŠ¨ç¨‹åºã€‚

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

- **ğŸš€ è·¨å¹³å°æ”¯æŒ**ï¼šWindows, macOS, Linux é€šç”¨ã€‚
- **ğŸ“Š å…¨æ¨¡å¼æµ‹é‡**ï¼š
    - **åå°„æ¨¡å¼ (Reflective)**ï¼šå¸¦è‡ªåŠ¨ç™½æ¿æ ¡å‡†ã€‚
    - **å‘å°„æ¨¡å¼ (Emissive)**ï¼šä¸“ç”¨æ˜¾ç¤ºå™¨æµ‹é‡çŸ©é˜µã€‚
    - **ç¯å¢ƒå…‰æ¨¡å¼ (Ambient)**ï¼šæ”¯æŒç¯å¢ƒå…‰æ‰©æ•£ç½©ã€‚
- **ğŸ§ª è‰²åº¦å­¦å¼•æ“**ï¼š
    - å®æ—¶è®¡ç®— **XYZ**, **x,y åæ ‡** å’Œ **L*a*b***ã€‚
    - è‡ªåŠ¨ä¼°ç®— **CCT (è‰²æ¸©)** å’Œ **å…‰è°±è´¨å¿ƒ**ã€‚
    - å¯é…ç½® **å…‰æº** (D65, D50, A, F2, F7, F11) å’Œ **è§‚å¯Ÿè€…** (2Â°, 10Â°) è®¾ç½®ã€‚
- **ğŸ¨ å…‰è°±å¯è§†åŒ–**ï¼šç»ˆç«¯å½©è‰²æŸ±çŠ¶å›¾å±•ç¤ºå…‰è°±åˆ†å¸ƒã€‚
- **ğŸŒ å›½é™…åŒ–æ”¯æŒ**ï¼šå†…ç½®ä¸­è‹±æ–‡ç•Œé¢ï¼Œæ”¯æŒè¿è¡Œæ—¶è¯­è¨€åˆ‡æ¢ã€‚
- **ğŸ­ ä¸»é¢˜é€‚é…**ï¼šæ”¯æŒäº®è‰²/æš—è‰²ä¸»é¢˜è‡ªåŠ¨åˆ‡æ¢ã€‚

---

## ğŸ› ï¸ å¿«é€Ÿå¼€å§‹

### 1. è¿è¡Œç¯å¢ƒ
- å®‰è£… [Rust ç¼–è¯‘ç¯å¢ƒ](https://rust-lang.org)ã€‚
- **Windows ç”¨æˆ·**ï¼šè‹¥æ— æ³•è¯†åˆ«ï¼Œè¯·ç”¨ [Zadig](https://zadig.akeo.ie/) å°†é©±åŠ¨æ›´æ¢ä¸º `WinUSB`ã€‚

### 2. è¿è¡Œ
æœ¬é¡¹ç›®é‡‡ç”¨ Cargo Workspace æ¶æ„è¿›è¡Œç®¡ç†ï¼š

- **å‘½ä»¤è¡Œå·¥å…· (CLI)**ï¼šåŸæœ‰çš„äº¤äº’å¼ç»ˆç«¯ç¨‹åºã€‚
  ```bash
  cargo run -p spectro-rs
  ```

- **å›¾å½¢ç•Œé¢ (GUI)**ï¼šå…¨æ–°çš„ç°ä»£åŒ–æ“ä½œç•Œé¢ï¼Œæ”¯æŒå®æ—¶å…‰è°±å›¾å’Œè‰²åº¦åˆ†æã€‚
  ```bash
  cargo run -p spectro-gui
  ```

---

## ğŸ—ï¸ é¡¹ç›®ç»“æ„

- **`crates/spectro-rs`**ï¼šæ ¸å¿ƒåº“åŠå‘½ä»¤è¡Œå·¥å…·ã€‚åŒ…å«äº†ç¡¬ä»¶é€šä¿¡é©±åŠ¨å’ŒåŸºæœ¬ç®—æ³•ã€‚
- **`crates/spectro-gui`**ï¼šåŸºäº `egui` å’Œ `eframe` å¼€å‘çš„å›¾å½¢åŒ–ç•Œé¢ã€‚

## ğŸ“– æ“ä½œå»ºè®®

1. **æ ¡å‡†**ï¼šæµ‹é‡å‰è¯·åœ¨â€œç™½ç‚¹â€ä½æ‰§è¡Œ **Restart Calibration**ã€‚
2. **å±å¹•æµ‹é‡**ï¼šå°†æ‹¨ç›˜è½¬è‡³æµ‹é‡ä½ï¼Œé€‰æ‹© **Measure Emissive**ã€‚
3. **ç¯å¢ƒå…‰æµ‹é‡**ï¼šå°†æ‹¨ç›˜è½¬è‡³æ‰©æ•£ç½©ä½ï¼Œé€‰æ‹© **Measure Ambient**ã€‚

---

## ğŸ›ï¸ æŠ€æœ¯è¯´æ˜

æœ¬é¡¹ç›®æ·±åº¦å‚è€ƒäº† **ArgyllCMS** çš„æ ¸å¿ƒç®—æ³•é€»è¾‘ï¼š
- å®ç°äº†å®Œæ•´çš„ EEPROM è§£æå’Œå¤šé¡¹å¼çº¿æ€§åŒ–ã€‚
- æ”¯æŒ 380nm - 730nm çš„æ ‡å‡†å…‰è°±æ˜ å°„ã€‚

---

## ğŸ› ï¸ å¼€å‘ä¸ CI/CD

æœ¬é¡¹ç›®éµå¾ªç°ä»£ DevOps å®è·µï¼Œä»¥ç¡®ä¿ä»£ç è´¨é‡ï¼š

### âš™ï¸ CI/CD (GitHub Actions)
- **CI**: æ¯æ¬¡æ¨é€åˆ° `main` åˆ†æ”¯ï¼ˆæ’é™¤æ–‡æ¡£æ›´æ”¹ï¼‰éƒ½ä¼šè§¦å‘æµ‹è¯•ã€æ ¼å¼æ£€æŸ¥å’Œé™æ€åˆ†æ (`clippy`)ã€‚
- **CD**: æ¨é€æ ‡ç­¾ (`v*`) ä¼šè‡ªåŠ¨å°† Crate å‘å¸ƒåˆ° [crates.io](https://crates.io/crates/spectro-rs)ã€‚

### âš“ Pre-commit é’©å­
ä¸ºäº†åœ¨æœ¬åœ°ä¿æŒé«˜ä»£ç è´¨é‡ï¼Œæˆ‘ä»¬ä½¿ç”¨ `pre-commit`ã€‚å®ƒç¡®ä¿æ‰€æœ‰ä»£ç åœ¨æäº¤å‰ç»è¿‡æ ¼å¼åŒ–å¹¶é€šè¿‡é™æ€æ£€æŸ¥ã€‚
1. å®‰è£… [pre-commit](https://pre-commit.com/)ã€‚
2. åœ¨é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ `pre-commit install`ã€‚

---

## âš–ï¸ å¼€æºåè®®

æœ¬é¡¹ç›®é‡‡ç”¨ **[GPLv3](https://www.gnu.org/licenses/gpl-3.0.html)** å¼€æºåè®®ã€‚

---

## ğŸ¤ è´¡çŒ®è®¡åˆ’

æ¬¢è¿é€šè¿‡ Issue æˆ– PR æäº¤åé¦ˆï¼å…±åŒæ‰“é€ æ›´å¼ºå¤§çš„ Rust è‰²å½©å·¥å…·ã€‚
